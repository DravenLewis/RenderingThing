<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RenderingThing Docs - Architecture</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body data-page="architecture">
  <header class="topbar">
    <div class="brand">
      <div class="logo">RT</div>
      <div>RenderingThing Docs</div>
      <span class="badge">Local</span>
    </div>
    <div class="search">
      <input type="search" placeholder="Search docs (local)" />
    </div>
    <button class="nav-toggle" aria-label="Toggle navigation">Menu</button>
  </header>

  <div class="layout">
    <nav class="sidenav">

      <h3>Documentation</h3>
      <ul>
        <li><a href="index.html" data-page-link="overview">Overview</a></li>
        <li><a href="getting-started.html" data-page-link="getting-started">Getting Started</a></li>
        <li><a href="samples.html" data-page-link="samples">Samples</a></li>
        <li><a href="architecture.html" data-page-link="architecture">Architecture</a></li>
        <li><a href="graphics.html" data-page-link="graphics">Graphics</a></li>
        <li><a href="reference/index.html" data-page-link="reference">Reference</a></li>
      </ul>
      <h3>Reference</h3>
      <ul>
<li><a href="asset.html" data-page-link="ref-asset">Asset</a></li>
<li><a href="assetmanager.html" data-page-link="ref-assetmanager">AssetManager</a></li>
<li><a href="bufferedimage.html" data-page-link="ref-bufferedimage">BufferedImage</a></li>
<li><a href="camera.html" data-page-link="ref-camera">Camera</a></li>
<li><a href="camerasettings.html" data-page-link="ref-camerasettings">CameraSettings</a></li>
<li><a href="color.html" data-page-link="ref-color">Color</a></li>
<li><a href="colormaterial.html" data-page-link="ref-colormaterial">ColorMaterial</a></li>
<li><a href="cubemap.html" data-page-link="ref-cubemap">CubeMap</a></li>
<li><a href="cubemapslot.html" data-page-link="ref-cubemapslot">CubeMapSlot</a></li>
<li><a href="cubematerialdefinition.html" data-page-link="ref-cubematerialdefinition">CubeMaterialDefinition</a></li>
<li><a href="defaultstate.html" data-page-link="ref-defaultstate">DefaultState</a></li>
<li><a href="demoscene.html" data-page-link="ref-demoscene">DemoScene</a></li>
<li><a href="depthguard.html" data-page-link="ref-depthguard">DepthGuard</a></li>
<li><a href="display.html" data-page-link="ref-display">Display</a></li>
<li><a href="displaymode.html" data-page-link="ref-displaymode">DisplayMode</a></li>
<li><a href="file.html" data-page-link="ref-file">File</a></li>
<li><a href="fileblob.html" data-page-link="ref-fileblob">FileBlob</a></li>
<li><a href="filereader.html" data-page-link="ref-filereader">FileReader</a></li>
<li><a href="filewriter.html" data-page-link="ref-filewriter">FileWriter</a></li>
<li><a href="firstpersoncontroller.html" data-page-link="ref-firstpersoncontroller">FirstPersonController</a></li>
<li><a href="flatcolormaterial.html" data-page-link="ref-flatcolormaterial">FlatColorMaterial</a></li>
<li><a href="flatimagematerial.html" data-page-link="ref-flatimagematerial">FlatImageMaterial</a></li>
<li><a href="font.html" data-page-link="ref-font">Font</a></li>
<li><a href="fontcharacter.html" data-page-link="ref-fontcharacter">FontCharacter</a></li>
<li><a href="framebuffer.html" data-page-link="ref-framebuffer">FrameBuffer</a></li>
<li><a href="framebufferchain.html" data-page-link="ref-framebufferchain">FrameBufferChain</a></li>
<li><a href="freetypefont.html" data-page-link="ref-freetypefont">FreeTypeFont</a></li>
<li><a href="gameengine.html" data-page-link="ref-gameengine">GameEngine</a></li>
<li><a href="glversioninfo.html" data-page-link="ref-glversioninfo">GLVersionInfo</a></li>
<li><a href="graphics2d.html" data-page-link="ref-graphics2d">Graphics2D</a></li>
<li><a href="graphicscontext.html" data-page-link="ref-graphicscontext">GraphicsContext</a></li>
<li><a href="grayscaleeffect.html" data-page-link="ref-grayscaleeffect">GrayscaleEffect</a></li>
<li><a href="idrawable.html" data-page-link="ref-idrawable">IDrawable</a></li>
<li><a href="ieventhandler.html" data-page-link="ref-ieventhandler">IEventHandler</a></li>
<li><a href="image.html" data-page-link="ref-image">Image</a></li>
<li><a href="imagematerial.html" data-page-link="ref-imagematerial">ImageMaterial</a></li>
<li><a href="imaterialproperty.html" data-page-link="ref-imaterialproperty">IMaterialProperty</a></li>
<li><a href="inputinformation.html" data-page-link="ref-inputinformation">InputInformation</a></li>
<li><a href="inputmanager.html" data-page-link="ref-inputmanager">InputManager</a></li>
<li><a href="light.html" data-page-link="ref-light">Light</a></li>
<li><a href="lightmanager.html" data-page-link="ref-lightmanager">LightManager</a></li>
<li><a href="lighttype.html" data-page-link="ref-lighttype">LightType</a></li>
<li><a href="lightuniformuploader.html" data-page-link="ref-lightuniformuploader">LightUniformUploader</a></li>
<li><a href="lineending.html" data-page-link="ref-lineending">LineEnding</a></li>
<li><a href="litcolormaterial.html" data-page-link="ref-litcolormaterial">LitColorMaterial</a></li>
<li><a href="litimagematerial.html" data-page-link="ref-litimagematerial">LitImageMaterial</a></li>
<li><a href="logbot.html" data-page-link="ref-logbot">Logbot</a></li>
<li><a href="logtype.html" data-page-link="ref-logtype">LogType</a></li>
<li><a href="mat4.html" data-page-link="ref-mat4">Mat4</a></li>
<li><a href="material.html" data-page-link="ref-material">Material</a></li>
<li><a href="materialproperty.html" data-page-link="ref-materialproperty">MaterialProperty</a></li>
<li><a href="mesh.html" data-page-link="ref-mesh">Mesh</a></li>
<li><a href="model.html" data-page-link="ref-model">Model</a></li>
<li><a href="modelpart.html" data-page-link="ref-modelpart">ModelPart</a></li>
<li><a href="modelpartfactory.html" data-page-link="ref-modelpartfactory">ModelPartFactory</a></li>
<li><a href="modelpartprefabs.html" data-page-link="ref-modelpartprefabs">ModelPartPrefabs</a></li>
<li><a href="modelprefabs.html" data-page-link="ref-modelprefabs">ModelPrefabs</a></li>
<li><a href="mouselockmode.html" data-page-link="ref-mouselockmode">MouseLockMode</a></li>
<li><a href="nullable.html" data-page-link="ref-nullable">Nullable</a></li>
<li><a href="objdata.html" data-page-link="ref-objdata">OBJData</a></li>
<li><a href="objloader.html" data-page-link="ref-objloader">OBJLoader</a></li>
<li><a href="pbrmaterial.html" data-page-link="ref-pbrmaterial">PBRMaterial</a></li>
<li><a href="postprocessingeffect.html" data-page-link="ref-postprocessingeffect">PostProcessingEffect</a></li>
<li><a href="quat.html" data-page-link="ref-quat">Quat</a></li>
<li><a href="random.html" data-page-link="ref-random">Random</a></li>
<li><a href="rect.html" data-page-link="ref-rect">Rect</a></li>
<li><a href="renderwindow.html" data-page-link="ref-renderwindow">RenderWindow</a></li>
<li><a href="scene.html" data-page-link="ref-scene">Scene</a></li>
<li><a href="scene2d.html" data-page-link="ref-scene2d">Scene2D</a></li>
<li><a href="scene3d.html" data-page-link="ref-scene3d">Scene3D</a></li>
<li><a href="screen.html" data-page-link="ref-screen">Screen</a></li>
<li><a href="shaderbundle.html" data-page-link="ref-shaderbundle">ShaderBundle</a></li>
<li><a href="shadercache.html" data-page-link="ref-shadercache">ShaderCache</a></li>
<li><a href="shaderprogram.html" data-page-link="ref-shaderprogram">ShaderProgram</a></li>
<li><a href="shadowlightdata.html" data-page-link="ref-shadowlightdata">ShadowLightData</a></li>
<li><a href="shadowmap2d.html" data-page-link="ref-shadowmap2d">ShadowMap2D</a></li>
<li><a href="shadowmapcube.html" data-page-link="ref-shadowmapcube">ShadowMapCube</a></li>
<li><a href="shadowrenderer.html" data-page-link="ref-shadowrenderer">ShadowRenderer</a></li>
<li><a href="shadowtype.html" data-page-link="ref-shadowtype">ShadowType</a></li>
<li><a href="skybox.html" data-page-link="ref-skybox">SkyBox</a></li>
<li><a href="skybox6face.html" data-page-link="ref-skybox6face">SkyBox6Face</a></li>
<li><a href="skyboxloader.html" data-page-link="ref-skyboxloader">SkyBoxLoader</a></li>
<li><a href="skyboxmaterial.html" data-page-link="ref-skyboxmaterial">SkyboxMaterial</a></li>
<li><a href="stringutils.html" data-page-link="ref-stringutils">StringUtils</a></li>
<li><a href="textcachekey.html" data-page-link="ref-textcachekey">TextCacheKey</a></li>
<li><a href="texture.html" data-page-link="ref-texture">Texture</a></li>
<li><a href="textureslot.html" data-page-link="ref-textureslot">TextureSlot</a></li>
<li><a href="transform.html" data-page-link="ref-transform">Transform</a></li>
<li><a href="tripplebuffer.html" data-page-link="ref-tripplebuffer">TrippleBuffer</a></li>
<li><a href="uniform.html" data-page-link="ref-uniform">Uniform</a></li>
<li><a href="valuecontainer.html" data-page-link="ref-valuecontainer">ValueContainer</a></li>
<li><a href="vec2.html" data-page-link="ref-vec2">Vec2</a></li>
<li><a href="vec3.html" data-page-link="ref-vec3">Vec3</a></li>
<li><a href="vec4.html" data-page-link="ref-vec4">Vec4</a></li>
<li><a href="vertex.html" data-page-link="ref-vertex">Vertex</a></li>
<li><a href="vertexindex.html" data-page-link="ref-vertexindex">VertexIndex</a></li>
<li><a href="view.html" data-page-link="ref-view">View</a></li>
      </ul>
    </nav>

    <main class="content">

      <h1>Architecture</h1>
      <p>RenderingThing separates window management, rendering, assets, and game logic. The engine owns the render thread and keeps scene logic isolated in stateful views.</p>

      <h2 id="engine">GameEngine + Threads</h2>
      <p><code>GameEngine</code> runs the window and OpenGL context on the render thread while logic and input handlers live on the main thread. State switches are requested on the main thread and applied safely on the render thread.</p>
      <pre><code class="language-cpp">GameEngine engine(DisplayMode::New(1280, 720), "RenderingThing");
int stateId = engine.addState(std::make_shared&lt;DemoScene&gt;(nullptr));
engine.enterState(stateId);
engine.start();
</code></pre>
      <ul>
        <li><strong>Render thread</strong> owns <code>RenderWindow</code>, OpenGL context, and swap.</li>
        <li><strong>Main thread</strong> runs scene updates and input handlers.</li>
      </ul>

      <h2 id="states">Scene States</h2>
      <p>Scenes are views that own screens and provide update/render entry points:</p>
      <ul>
        <li><code>Scene3D</code> for world rendering.</li>
        <li><code>Scene2D</code> for overlays and UI.</li>
        <li><code>DefaultState</code> for a safe fallback when no state is loaded.</li>
      </ul>

      <h2 id="screens">Screen Pipeline</h2>
      <p><code>Screen</code> owns a framebuffer and presents a post-processing friendly pipeline:</p>
      <ul>
        <li><code>Screen::bind()</code> routes draws into the framebuffer.</li>
        <li><code>Screen::unbind()</code> and <code>drawToWindow()</code> composite to the window.</li>
        <li>Multiple screens can be layered (3D + UI).</li>
      </ul>

      <h2 id="asset-paths">Asset Paths</h2>
      <p>Assets are loaded via the <code>@assets</code> alias, which resolves to the local <code>res</code> folder at runtime. Example:</p>
      <pre><code class="language-cpp">PTexture texture = Texture::Load(
    AssetManager::Instance.getOrLoad("@assets/images/grass_top_col.png")
);
</code></pre>

      <h2 id="input">Input and Camera</h2>
      <p><code>InputManager</code> captures SDL events and drives the first-person controller. The camera is created once and shared with the main screen:</p>
      <pre><code class="language-cpp">cam = Camera::CreatePerspective(45.0f, Math3D::Vec2(w, h), 0.1f, 1000.0f);
mainScreen->setCamera(cam);
fpsC = std::make_shared<FirstPersonController>(cam);
</code></pre>

    </main>

    <aside class="toc" id="toc"></aside>
  </div>

  <footer class="footer">RenderingThing Docs - Local build</footer>
  <script src="app.js"></script>
</body>
</html>

